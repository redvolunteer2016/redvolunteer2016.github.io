<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Red Volunteer 2016</title>
</head>
<body>
	<div>
		<p>Nhập ngày tháng năm lần hiến máu cuối cùng (ngày - tháng - năm):</p>
		<!--<input id="lastDBDate" type="date">
		<input id="lastDBMont" type="month" >
		<input id="lastDBYear" type="year">
		-->
		<input id="lastDBDate" type="text">
		<button id="calculateBtn">Tính</button>
		<p>Ngày hiến máu tiếp theo (ngày - tháng - năm): </p>
		<p id="nextDBDate"></p>
	</div>
</body>
<script type="text/javascript">
	function calculateNextDBDate(){
		var strDBDate = document.getElementById("lastDBDate").value;
		var lastDBDate = new Date(strDBDate);
		
		lastDBDate.setDate(strDBDate.slice(0,strDBDate.indexOf("-")));
		lastDBDate.setMonth(strDBDate.slice(strDBDate.indexOf("-") + 1, strDBDate.lastIndexOf("-")));
		lastDBDate.setFullYear(strDBDate.slice(strDBDate.lastIndexOf("-") + 1));
		
		var nextDBDate = new Date(lastDBDate.setDate(lastDBDate.getDate() + 84));
		var result = nextDBDate.getDate() + "-" + (nextDBDate.getMonth() + 1) + "-" + nextDBDate.getFullYear();
		document.getElementById("nextDBDate").innerHTML = result;
		
	}
	function main(){
		var calculateBtn = document.getElementById("calculateBtn");
		calculateBtn.onclick = function(){
			calculateNextDBDate();
		}
	}
	main();
</script>
</html>